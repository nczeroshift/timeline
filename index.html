<html>
    <head>
        <meta charset="UTF-8">
        <title>Temp</title>
        <script type="text/javascript" src="jquery-1.6.4.min.js"></script>
        <script type="text/javascript" src="timeline.js"></script>
        <link rel="stylesheet" type="text/css" href="timeline.css">
    </head>
    
    <style type="text/css">
        html,body{
            padding:0;
            margin:0;
            font-family: sans-serif;
        }
        
        .tlTest {
            position: absolute;
            left: 20px;
            top: 20px;
            right: 20px;
            bottom: 20px;
        }
    </style>
    
    <body>
   
    <div class="tlTest tl">
        <div class="tlTrack">
            <canvas></canvas>
        </div>
        <div class="tlEditor">
            <canvas></canvas>
        </div>
    </div>
    
    <script type="text/javascript">
        var timeline = null;

        $(function () {
            timeline = new Timeline($(".tl"));

            timeline.addSegment("a1", 1, 2, 1, "1");
            timeline.addSegment("a2", 2, 2, 2, "2");
            timeline.addSegment("a3", 3, 2, 3, "3");
            timeline.addSegment("a4", 4, 2, 4, "4");

            var wnd = $(window);
            
            timeline.setChangeCallback(function (id, t, dur, track) {
                console.log(id, t, dur, track);
            })

            wnd.resize(function () {
                timeline.resize();
            });

            wnd.trigger("resize");
        });
    </script>

</body>
</html>
